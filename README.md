# Replay the Spire
#### Expansion mod for Slay the Spire by AstroPenguin642, The_Evil_Pickle, and Stewartisme.
###### (Currently maintained by The_Evil_Pickle)

This mod aims to expand upon the base game by adding lots of content. It is currently a work in progress, but you can download the [latest release](https://github.com/AstroPenguin642/Replay-the-Spire/releases) to help us improve it.

### Requires:
 * BaseMod (https://github.com/daviscook477/BaseMod/releases)
 * ModTheSpire (https://github.com/kiooeht/ModTheSpire)

### Currently adds:
 * 40 Relics (4 ironclad, 4 silent, 5 defect, 27 shared)
 * 35 Cards (7 ironclad, 7 silent, 7 defect, 5 colorless, 9 curses)
 * 4 Events
 * 8 Potions
 * 1 Boss

Some content originally from this mod is now in the official release of the game!
 * Potion rarities
 * Liquid Bronze (originally "Thorns Potion")
 * Ghost in a Jar (originally "Spirit Potion")
 * Power Potion (originally "Inspiration Potion")


# Relics
Name | Character | Rarity | Description
--- | --- | --- | ---
Antivirus Software | Defect | Common | Every time you shuffle your deck, gain 1 **Artifact**. **Artifact** will also be used to exhaust **Status** cards for 1 turn.
Baseball | All | Common | Upon pick up, a random card in your deck becomes free.
Geode | Defect | Common | The first time you lose HP in combat, trigger the passive effect of your orbs and **Channel** 1 **Crystal.**
Gremlin Food | All | Common | Whenever you rest, **Upgrade** a random card.
Grinning Jar | All | Common | On pickup, add a Grinning Jar card to your deck. Obtain another copy for every 12 cards added to your deck.
King of Hearts | Ironclad | Common | When you lose HP during your turn, gain twice that much block.
Rune of Simplicity | All | Common | Strikes and Defends can be **Upgraded** any number of times. On pickup, **Upgrade** 2 randomly.
Tag Bag | All | Common | Shops have all 3 kinds of sale tags. Sale tags can appear on colorless cards. On-sale cards are slightly cheaper
Pet Ghost | All | Common | At the start of each turn, add a Ghost Swipe, Ghost Defend, or Ghost Fetch to your hand (chosen randomly).
Bandana | All | Uncommon | Gain 2 **Thievery** for the first 3 turns of combat.
Basket of Snakes | Silent | Uncommon | Every 5th **Attack** you play applies 2 **Necrotic** **Poison** upon dealing unblocked damage.
Carrot | Defect | Uncommon | Gain 3 **Focus** at the start of combat, then lose 1 **Focus** on the next 3 turns.
Chameleon Ring | All | Uncommon | Potions are ~50% more potent. You may brew 2 random potions at rest sites.
Divine Protection | All | Uncommon | Gain 8 temporary HP at the start of combat.
Funnel | All | Uncommon | At the end of your turn, gain 4 **Block** for each unspent energy.
Garlic | All | Uncommon | Enemies lose 3 **Strength** at the start of combat, then gain 1 **Strength** on the next 3 turns.
Golden Egg | All | Uncommon | Whenever you obtain a rare card, it is **Upgraded.**
Iron Hammer | All | Uncommon | During the first turn, drawing a card upgrades it until the end of combat.
Onion Ring | All | Uncommon | Gain 3 **Strength** at the start of combat, then lose 1 **Strength** on the next 3 turns.
Raider's Mask | Defect | Uncommmon | After a **Dark** orb triggers its passive effect, if it has more stored damage than the HP of the lowest-health enemy, it is **Evoked.**
Snack Pack | All | Uncommon | Every time you play 3 **Attacks** in a single turn, gain 2 HP.
Solar Panel | Defect | Uncommon | At the end of combat, gain 2 HP for each of your active **Lightning** orbs.
Quantum Egg | All | Uncommon | Whenever a card is created during combat, it is **Upgraded.**
Another Sword | Ironclad | Rare | The first card containing "Strike" you play each turn is played twice. Takes 1 additional turn to recharge for each energy spent on the card.
Arrowhead | All | Rare | You may **Upgrade** 2 cards whenever you smith.
Byrd Skull | Silent | Rare | Your **Innate** cards have **Refund** 1 and draw 1 card.
Counterbalance | All | Rare | During boss and elite fights all enemy **Strength** gain, **Block** gain, and healing is reduced by half.
Durian | All | Rare | Gain 5 Max HP on pickup. At the start of your turn, reduce your **Weakened,** **Frail,** and/or **Vulnerable** to 2 (if > 2).
Mirror | All | Rare | Whenever you gain **Vulnerable** or **Weakened**, it is also applied to the enemy that sent it.
Pondfish Scales | All | Rare | Whenever you play a Skill that does not give **Block,** gain 2 **Block**.
Vampiric Spirits | Silent | Rare | During the first turn of combat, 25% of all unblocked attack damage you deal is retuned as health.
Chemical X | All | Shop | Your cost X effects are increased by 2.
GuideBook | All | Shop | On pickup, **Upgrade** 2 cards randomly. Prioritizes rarer cards.
Abe's Treasure | All | Boss | Gain 1 more energy each turn. Start combat with **Drowning**.
Chewing Gum | All | Boss | Gain 1 more energy each turn. Each time you shuffle your deck, add 2 Slimed to your draw pile..
Honey Jar | All | Boss | Draw 1 more card each turn. **Retain** up to 1 card each turn. Card rewards have 1 more option to chose from. You cannot skip rewards.
Kintsugi | All | Boss | Remove 5 cards from your deck. Choose 2 **Curses** to obtain.
Ooze Armor | Ironclad | Boss | Gain 1 energy at the start of each turn. At the start of combat, gain **Slow** (resets to -2) and **Malleable** (resets to 4).
Sweet Flower | All | Boss | Gain 1 more energy each turn. Map displays much less information.
Electric Blood | Ironclad | Boss | Gain 2 energy at the start of each turn. When you spend energy, lose that much HP, excluding the first 2 energy spent each turn.
Snecko Heart | All | Boss | Start combat **Confused**. **Confusion** will never increase the cost of a card by more than 1. The first card you draw each turn always costs 0.
Snecko Scales | Silent | Boss | Draw 3 additional cards each turn. When you play a card that costs more than 0, discard a card.
Ring of Chaos | All | Boss | Some card rewards have randomly altered stats and effects.


# Cards
Name | Color | Rarity | Type | Cost | Description (upgrade effect in parenthesis)
--- | --- | --- | --- | --- | ---
Run Through | Red | Common | Attack | 1 | Target loses 9(11) HP and 4(7) Block.
Abandon | Red | Uncommmon | Skill | 0 | **Exhaust** 1(up to 3) cards. Draw that many cards. **Ethereal**.
Defy Death | Red | Uncommmon | Skill | 5(4) | Gain 14(16) Block. Costs 1 less for each card you've exhausted this combat.
Life Bind | Red | Uncommmon | Power | 1(0) | Apply to an enemy. When you lose health, the bound enemy takes that much damage.
Massacre | Red | Uncommmon | Attack | 1 | Deal 1(3) damage to ALL enemies, then lose all **Strength**. Is affected 5(8) times by **Strength**.
Demonic Infusion | Red | Rare | Skill | X | Upgrade a card X(+1) times. **Refund** 1. **Exhaust**.
Hemogenesis | Red | Rare | Attack | 2 | Deal 5 damage. Gain 5 Block. Heal 5 HP. **Exhaust**. Each time you lose HP while this is in your hand, it is **Upgraded** until the end of combat. Can be **Upgraded** any number of times. (Upgrading increases all numbers by 2+X where X is the number of times previously upgraded in combat, or 3+X if the card has been upgraded outside of combat).
Fluid Movement | Green | Commmon | Power | 1 | Keep up to 5(8) block between rounds.
Hidden Blade | Green | Commmon | Skill | 1 | Add a Shiv to your hand and draw 2(3) cards.
Toxin Wave | Green | Uncommon | Skill | 1 | Apply 3(4) **Necrotic** **Poison** to ALL enemies.
Draining Mist | Green | Uncommon | Skill | 3 | Apply 3 **Necrotic** **Poison** to a random enemy 2(3) times. Apply -1(-2) **Strength** to ALL enemies. **Exhaust**.
Sneak Up | Green | Uncommon | Skill | 1 | **Innate.** Discard 1 card (upgrade removes). Gain 1 **Intangible.** **Exhaust.** **Ethereal.**
Atom Bomb | Green | Rare | Attack | 4 | Deal 60(80) damage. Apply 3(4) **Poison** to ALL enemies. **Exhaust**.
Poison Darts | Green | Rare | Skill | X | Apply 3(4) **Necrotic** **Poison** X times.
Reflective Lens | Blue | Uncommon | Power | 1(0) | **Channel** 1 **Glass.** Your **Glass** orbs have a passive effect that gives 1 **Reflection** at the end of each turn.
Panic Button | Blue | Uncommon | Skill | 0 | **Evoke** all your orbs. Draw 2(4) cards. **Exhaust.** **Retain.**
Crystal Conduit | Blue | Uncommon | Skill | 1 | **Channel** 1 **Crystal** (and 1 random orb).
FIFO Queue | Blue | Uncommmon | Power | 2(X) | Gain 4(2X+1) orb slots.
Mirror Shield | Blue | Rare | Skill | 2 | **Channel** 1 **Crystal.** **Channel** 1 **Frost.** Gain 5(8) **Block.** Gain 1(2) **Reflection.**
Time Bomb | Blue | Rare | Skill | 1 | Gain 2 orb slots. **Channel** 2 **Glass.** **Channel** 1 **Dark,** and trigger its passive 2(3) times. **Exhaust.**
RNG | Blue | Rare | Skill | X | **Channel** X(+1) random orbs.
Poisoned Strike | Colorless | Uncommmon | Skill | 0 | Apply 3(4) **Poison**. Is affected by damage modifiers.
Specialist | Colorless | Uncommon | Power | 0 | Lose 1 Focus. All non-attack damage you deal is increased by 2. (**Innate.**)
Survey Options | Colorless | Uncommon | Skill | X | Draw X. **Refund** 1(2).
Improvise | Colorless | Rare | Skill | 1 | Choose 1 of 3 random cards to (upgrade and) add to your hand. It costs 1 less. **Exhaust**.
Awakened One Ritual | Colorless | Rare | Power | 0 | Add 6(8) Ritual Components to your discard pile. If you ever have 5 or more in your hand at once, replace them with Attacks that deal 42 damage.
Amnesia | Curse | Curse | Curse | - | **Unplayable**. At the end of your turn, **Exhaust** your hand. **Ethereal**.
Faulty Equipment | Curse | Curse | Curse | - | **Unplayable**. Can only be **Exhausted** or removed from your deck by **Upgrading**.
Hallucinations | Curse | Curse | Curse | - | **Unplayable**. At the end of your turn, add a random card into your draw pile.
Sickly | Curse | Curse | Curse | - | **Unplayable**. At the end of your turn, lose 3 **Block**.
Spreading Infection | Curse | Curse | Curse | - | **Unplayable**. At the end of your turn, add a copy of all other status and curse cards in your hand to your discard pile.
Languid | Curse | Curse | Curse | - | **Unplayable**. If this is in your hand at the end of your turn, start next turn with 1 less Energy.
Delirium | Curse | Curse | Curse | - | **Unplayable**. At the end of your turn, gain **Confusion** for 1 round.
Voices | Curse | Curse | Curse | - | **Unplayable**. At the end of your turn, shuffle 2 Dazed into your discard pile. **Ethereal**.
Looming Evil | Curse | Curse | Curse | 3 | Can be played for 3 Energy to **Exhaust**. At the end of your turn, shuffle a random curse into your draw pile and reduce the cost to play this card by 1.
Ghost Swipe | Colorless | Special | Attack | 1 | Deal 6 damage. **Exhaust**. **Ethereal**.
Ghost Defend | Colorless | Special | Skill | 1 | Gain 5 block. **Exhaust**. **Ethereal**.
Ghost Fetch | Colorless | Special | Skill | 0 | Choose a basic card from your draw pile and add it to your hand. **Exhaust**. **Ethereal**.
Grinning Jar | Colorless | Special | Skill | 0 | Draw 2 cards. You cannot play another Grinning Jar card this turn (upgrade removes).
Ritual Component | Colorless | Special | Skill | 0 | Draw 1 card.

# Keywords
Name | Type | Description
--- | --- | ---
Refund | Misc | When a card with **Refund** is played, energy spent on it is returned (up to the stated amount).
Crystal | Orb | **Passive:** Gives +2 **Focus** to adjacent orbs. **Evoke:** Gain an orb slot if you have less than 3.
Glass | Orb | No **Passive** effect. When **Evoked**, if you have more than 3 orb slots, consumes your leftmost one and **Evokes** any occupying orb.
Hellfire | Orb | **Passive:** Gives +2 **Strength** at the start of your turn that is removed at the end of your turn. **Evoke:** Apply 1 **Vulnerable** to a random enemy.
Necrotic Poison | Power (Debuff) | An alternate kind of Poison. Does double damage, but is reduced by half each turn (rounding down). Normal Poison does not count down while Necrotic Poison is applied.
Reflection | Power (Buff) | Each time you completely block attack damage, that damage is reflected back at the attacker.

# Potions
Name | Rarity | Description (post-ascension-11 changes in parenthesis)
--- | --- | ---
Adrenaline Potion | Common | Draw 2(1) cards and gain 1 energy.
Elixir | Common | Exhaust ALL your status and curse cards (in your hand).
Venom Potion | Uncommon | Gain 1 Envenom (and -1 Strength).
Toxic Potion | Uncommon | Apply 5(4) Necrotic Poison to all enemies.
Milkshake | Uncommon | You can retain up to 5(2) unspent energy between rounds.
Death Potion | Rare | Deal 60(40) damage and lose 12(15) HP.
Doom Potion | Rare | Destroy an enemy after 10(13) turns.
Cursed Concoction | Rare | Gain 3(2) Strength and 2(1) Dexterity. Add a random curse to your draw and discard piles.


# Events
### Mirror Mist
Exordium event.

Presents 3 options. 
The first two change based on the player's character. The third is always "Transform and Upgrade a random card."

Character-specific options:
 * **Ironclad:**
  * Bash -> Survivor & Neutralize
  * Burning Blood -> Self Repair+
 * **Silent:**
  * Ring of the Snake -> Sizzling Blood
  * Survivor -> Leap, Neutralize -> Go For The Eyes
 * **Defect:**
  * Dualcast -> Bash, Cracked Core -> Iron Core
  * Cracked Core -> Ring of the Snake
If an upgraded card is traded for a different card using this event, the corresponding new card will be upgraded.

### Stuck
Exordium event.

A random card in the player's deck is selected as the target of this event.

Options are to either upgrade or remove the selected card.


### Trapped Chest
Any-stage event.

The player can choose to ignore the event or obtain rewards at the cost of triggering a trap.

Options after the trap is triggered are:
 * Take damage equal to 25% max HP
 * 50% chance to take damage equal to 40% max HP
 * Obtain Pain curse.
The rewards from this event are a random combination of gold, cards, potions, and/or relics.

If the player has Cursed Key, they can choose to obtain a random curse rather than trigger the trap.

If the player has Matryoshka, they can use one charge of it to get twice as many rewards.

### Dead Man's Rings
Any-stage event.

The player can choose to ignore the event, or find relics with a risk to become cursed.

The first two options give 1 relic, and a 50% chance to recieve a curse. The curses each one offers are different each time the event is encountered, chosen randomly.

The third option gives 2 relics, and has a 75% chance to recieve a random curse. Unlike the first two options, you can't tell what curse you'll get from this option before you select it.

Only certain relics can be recieved from this event (see Event Relics). 


## Event Relics
Name | Event | Description
--- | --- | ---
Sizzling Blood | Mirror Mist (as Silent) | Restore 4 HP at the end of combat. Gain 4 MAx HP on pick up.
Iron Core | Mirror Mist (as Defect) | At the start of combat, **Channel** 1 **Hellfire.** Certain red cards can appear in future card rewards. Random orb effects (e.g. Chaos) have a chance to **Channel** **Hellfire.**
Ring of Fury | Dead Man's Rings | At the start of combat, gain 2 **Strength** and lose 1 **Dexterity.**
Ring of Peace | Dead Man's Rings | At the start of combat, apply 3 **Weak** to ALL fighters and gain 1 **Buffer.**
Ring of Panic | Dead Man's Rings | At the start of combat, become **Confused** for 3 turns. Gain 2 energy on the first and second turns, and 1 energy on the third.
Ring of Hypnosis | Dead Man's Rings | All enemies start with 5 **Confusion.**
Ring of Searing | Dead Man's Rings (as Ironclad or modded) | At the start of your turn, ALL enemies above 50% max HP lose 10% of their HP, and you lose 5 HP if you are above 75% max HP.
Ring of Fangs | Dead Man's Rings (as Silent or modded) | At the start of combat, lose 3 **Strength** and gain 1 **Envenom.**
Ring of Shattering | Dead Man's Rings (as Defect) | At the start of combat gain 3 **Focus** and lose 2 orb slots.


## Changes to Existing Content:
 * Neow now has a wider variety of blessings to choose from.
 * Shops sometimes have a "2 for 1" tag or "special edition" tag instead of the normal sale tag.
 * Random orb channeling effects (e.g. Chaos) will now sometimes channel Crystal.
 * Corpse Explosion now exhausts and applies 1x Necrotic Poison rather than dealing 2x damage.
 * If you have Honey Jar and Singing Bowl at the same time, using Singing Bowl's max hp gain option also picks a reward card at random.
 * Burning Branch can now be exchanged for a different relic at rest sites.


## Known Issues:
 * Cards altered by Ring of Chaos or Baseball return to the normal version if the run is saved and returned to later.
 * Honey Jar + Question Card doesn't stack (except in the case of busted crown).
 * Compile Driver doesn't count custom orbs.
 * When Raider's Mask evokes a dark orb, it may cause one of your other orbs to skip activating its passive effect.
 